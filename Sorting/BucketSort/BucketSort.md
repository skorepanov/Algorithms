# Bucket sort - Блочная сортировка (Корзинная сортировка)

Алгоритм устойчивой сортировки.

## Сложность алгоритма

- Time complexity.
  - В худшем случае: `O(n^2)`.
    - Если при сортировке корзин используется [сортировка вставкой](../InsertionSort/InsertionSort.md).
      - И если все элементы оказались в одной корзине.
  - В среднем: `O(n + (n^2)/k + k)`, где `k` - количество корзин.
    - Если распределение элементов по корзинам достаточно равномерное.
- Space complexity: `O(n+k)`, где `k` - размер корзин.

## Шаги алгоритма

1. Распределить сортируемые элементы между конечным числом отдельных корзин (блоков).
   1. При этом все элементы в каждой следующей по порядку корзине должны быть всегда больше (или меньше), чем в предыдущей.
   2. Для определения номера корзины можно использовать функцию: `floor(k * A[i] / max(A))`.
2. Отсортировать каждую корзину по-отдельности, либо рекурсивно тем же методом, либо другим.
   1. Хороший вариант - [сортировка вставкой](../InsertionSort/InsertionSort.md), она хороша для небольших массивов.
3. Поместить элементы обратно в массив.

## Особенности алгоритма

- Алгоритм требует знаний о природе сортируемых данных, выходящих за рамки функций "сравнить" и "поменять местами".
- На удачных входных данных может обладать линейным временем исполнения.

## Область использования

- Плохо подходит для большого количества мало отличных элементов, или при неудачной функции получения номера корзины по содержимому элемента.
- Хорошо подходит когда элементы подчиняются равномерному закону распределения.
  - При блочной сортировке предполагается, что элементы равномерно распределены на отрезке `[0, 1)`.
